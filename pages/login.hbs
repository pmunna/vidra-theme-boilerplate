<div id="alert-credential-error" class="alert alert-danger alert-dismissible fade show text-center"
    style="position:absolute; width:100%; opacity:0; top:0px; visibility:hidden" role="alert">
    Email o password errata
</div>

<section class="t-page__section c-product pb-0">
	<div class="container">
    <div class="row justify-content-center minh-navbar h-auto">
			<div class="col-10 col-md-6 col-lg-5">
					<h3 class="text-center mt-6 mb-4r">Accedi</h3>
						{{#each errors}}
						<div class="c-error">
							<div class="icon"><i class="material-icons">warning</i></div>
							<div class="list">
									
										<div class="fade show text-left" role="alert">
												Si Ã¨ verificato un errore
										</div>
										<!--<div class="single-error">{{type}} - {{text}}</div>-->
									
							</div>
						</div>
						{{/each}}
			</div>
		</div>
		<div class="row justify-content-center minh-navbar h-auto">
			<form class="col-10 col-md-6 col-lg-4" method="POST">
				<div id="login-form" class="needs-validation text-center">
					<div class="form-group text-left">
						<label for="email">Indirizzo mail</label>
						<input required name="email" type="email" class="form-control" id="email" aria-describedby="email" placeholder="Il tuo indirizzo email">
					</div>
					<div class="form-group text-left">
						<label for="password">Password</label>
						<div id="password-input" class="input-group">
							<input required name="password" type="password" class="form-control border-right-0" id="password" placeholder="Inserisci Password">
							<div class="input-group-append">
								<span class="input-group-text bg-white"><i class="material-icons js-eye">visibility_off</i></span>
							</div>
						</div>
						<a href="/recover-password" class="forgot">Ho dimenticato la password</a>
					</div>
					<button type="submit" value="Login" class="btn btn-primary login">Accedi</button>
					<!--<p>Oppure:</p>
					<button value="Login" id="facebook" class="btn btn-primary login"><i class="fab fa-facebook-f"></i> Accedi con Facebook</button>
					-->
					<hr>
					<p>Sei nuovo? <a href="/register">Registrati!</a></p>
				</div>
			</form>
		</div>
	</div>
</section>

<script type="text/javascript">
    function passwordInputController(elementId) {
        const passwordInput = document.getElementById(elementId);
        const inputElement = passwordInput.querySelector('input');
        const icon = passwordInput.querySelector('i');
        const visibilityElement = passwordInput.querySelector('span');
        function toggleVisibility() {
            if (inputElement.type === "password") {
                icon.innerHTML = 'visibility';
                inputElement.type = "text";
            } else {
                inputElement.type = "password";
                icon.innerHTML = 'visibility_off';
            }
        }
        visibilityElement.onclick = toggleVisibility;
    }
    passwordInputController('password-input')
</script>